import{d as B,m as A,r as b,i as L,w as $,j as f,k as T,c as a,a as D,o as s,b as e,e as E,g as N,F as v,l as x,u as _,h as I,n as P,t as V,_ as X}from"./index-CFixxQ0Q.js";import{d as p}from"./marked-B-UsxTFJ.js";import j from"./dompurify-CQJ0hv7W.js";import"./html2pdf-NLN-w5VX.js";import"./prismjs-BGFVX2yr.js";const R=[{title:"基础运算",symbols:[{code:"+"},{code:"-"},{code:"\\pm"},{code:"\\mp"},{code:"\\times"},{code:"\\div"},{code:"="},{code:"\\neq"},{code:"\\approx"},{code:"\\equiv"},{code:"\\propto"},{code:"<"},{code:">"},{code:"\\leq"},{code:"\\geq"},{code:"\\ll"},{code:"\\gg"},{code:"\\prec"},{code:"\\succ"},{code:"\\preceq"},{code:"\\succeq"}]},{title:"上下标与导数",symbols:[{code:"a^2"},{code:"a_1"},{code:"e^{x+y}"},{code:"x_{i=1}"},{code:"a^{b^c}"},{code:"x_{i,j}"},{code:"f\\prime"},{code:"f\\prime\\prime"},{code:"\\dot{x}"},{code:"\\ddot{x}"},{code:"\\dot{\\dot{x}}"},{code:"\\frac{dy}{dx}"},{code:"\\frac{d^2y}{dx^2}"},{code:"\\partial f"},{code:"\\frac{\\partial f}{\\partial x}"}]},{title:"分式与根号",symbols:[{code:"\\frac{a}{b}"},{code:"\\frac{a+b}{c+d}"},{code:"\\cfrac{a}{b}"},{code:"\\sqrt{x}"},{code:"\\sqrt[3]{x}"},{code:"\\sqrt[n]{x}"},{code:"\\sqrt{a^2 + b^2}"}]},{title:"三角函数",symbols:[{code:"\\sin"},{code:"\\cos"},{code:"\\tan"},{code:"\\cot"},{code:"\\sec"},{code:"\\csc"},{code:"\\arcsin"},{code:"\\arccos"},{code:"\\arctan"},{code:"\\sinh"},{code:"\\cosh"},{code:"\\tanh"},{code:"\\coth"},{code:"\\sin^{-1}"},{code:"\\cos^2 x"},{code:"\\tan\\theta"}]},{title:"微积分",symbols:[{code:"\\int"},{code:"\\int_{a}^{b}"},{code:"\\int_{a}^{b} f(x) dx"},{code:"\\iint"},{code:"\\iiint"},{code:"\\oint"},{code:"\\sum"},{code:"\\sum_{i=1}^{n}"},{code:"\\sum_{i=1}^{n} a_i"},{code:"\\prod"},{code:"\\prod_{i=1}^{n}"},{code:"\\lim"},{code:"\\lim_{x \\to a}"},{code:"\\lim_{x \\to \\infty}"},{code:"\\infty"},{code:"\\partial"},{code:"\\nabla"},{code:"\\nabla \\cdot"},{code:"\\nabla \\times"},{code:"\\nabla^2"},{code:"\\mathrm{d}"},{code:"\\delta"},{code:"\\Delta"}]},{title:"矩阵与行列式",symbols:[{code:"\\begin{bmatrix}a & b \\\\ c & d\\end{bmatrix}"},{code:"\\begin{pmatrix}a & b \\\\ c & d\\end{pmatrix}"},{code:"\\begin{vmatrix}a & b \\\\ c & d\\end{vmatrix}"},{code:"\\begin{Vmatrix}a & b \\\\ c & d\\end{Vmatrix}"},{code:"A^T"},{code:"A^{-1}"},{code:"A^*"},{code:"\\det(A)"},{code:"\\text{rank}(A)"},{code:"\\text{tr}(A)"},{code:"\\mathbf{0}"},{code:"\\mathbf{I}"}]},{title:"集合论",symbols:[{code:"\\in"},{code:"\\notin"},{code:"\\subset"},{code:"\\supset"},{code:"\\subseteq"},{code:"\\supseteq"},{code:"\\nsubseteq"},{code:"\\nsupseteq"},{code:"\\cup"},{code:"\\cap"},{code:"\\setminus"},{code:"\\complement"},{code:"\\bigcup"},{code:"\\bigcap"},{code:"\\emptyset"},{code:"\\varnothing"},{code:"\\mathbb{N}"},{code:"\\mathbb{Z}"},{code:"\\mathbb{Q}"},{code:"\\mathbb{R}"},{code:"\\mathbb{C}"},{code:"\\{a, b, c\\}"},{code:"\\{x \\mid x > 0\\}"}]},{title:"希腊字母（小写）",symbols:[{code:"\\alpha"},{code:"\\beta"},{code:"\\gamma"},{code:"\\delta"},{code:"\\epsilon"},{code:"\\varepsilon"},{code:"\\zeta"},{code:"\\eta"},{code:"\\theta"},{code:"\\vartheta"},{code:"\\iota"},{code:"\\kappa"},{code:"\\lambda"},{code:"\\mu"},{code:"\\nu"},{code:"\\xi"},{code:"\\pi"},{code:"\\varpi"},{code:"\\rho"},{code:"\\varrho"},{code:"\\sigma"},{code:"\\varsigma"},{code:"\\tau"},{code:"\\upsilon"},{code:"\\phi"},{code:"\\varphi"},{code:"\\chi"},{code:"\\psi"},{code:"\\omega"}]},{title:"希腊字母（大写）",symbols:[{code:"\\Alpha"},{code:"\\Beta"},{code:"\\Gamma"},{code:"\\Delta"},{code:"\\Epsilon"},{code:"\\Zeta"},{code:"\\Eta"},{code:"\\Theta"},{code:"\\Iota"},{code:"\\Kappa"},{code:"\\Lambda"},{code:"\\Mu"},{code:"\\Nu"},{code:"\\Xi"},{code:"\\Pi"},{code:"\\Rho"},{code:"\\Sigma"},{code:"\\Tau"},{code:"\\Upsilon"},{code:"\\Phi"},{code:"\\Chi"},{code:"\\Psi"},{code:"\\Omega"}]},{title:"逻辑符号",symbols:[{code:"\\forall"},{code:"\\exists"},{code:"\\exists!"},{code:"\\Rightarrow"},{code:"\\Leftarrow"},{code:"\\Leftrightarrow"},{code:"\\implies"},{code:"\\impliedby"},{code:"\\iff"},{code:"\\land"},{code:"\\lor"},{code:"\\neg"},{code:"\\oplus"},{code:"\\top"},{code:"\\bot"},{code:"\\vdash"},{code:"\\vDash"}]},{title:"箭头符号",symbols:[{code:"\\rightarrow"},{code:"\\leftarrow"},{code:"\\to"},{code:"\\gets"},{code:"\\Rightarrow"},{code:"\\Leftarrow"},{code:"\\Leftrightarrow"},{code:"\\mapsto"},{code:"\\hookrightarrow"},{code:"\\hookrightarrow"},{code:"\\rightharpoonup"},{code:"\\leftharpoonup"},{code:"\\rightleftharpoons"},{code:"\\uparrow"},{code:"\\downarrow"},{code:"\\updownarrow"},{code:"\\nearrow"},{code:"\\searrow"},{code:"\\swarrow"},{code:"\\nwarrow"},{code:"\\longrightarrow"},{code:"\\longleftarrow"},{code:"\\Longrightarrow"},{code:"\\Longleftarrow"}]},{title:"函数与算子",symbols:[{code:"\\log"},{code:"\\ln"},{code:"\\lg"},{code:"\\exp"},{code:"\\sin"},{code:"\\cos"},{code:"\\tan"},{code:"\\arcsin"},{code:"\\arccos"},{code:"\\arctan"},{code:"\\sinh"},{code:"\\cosh"},{code:"\\tanh"},{code:"\\coth"},{code:"\\max"},{code:"\\min"},{code:"\\sup"},{code:"\\inf"},{code:"\\limsup"},{code:"\\liminf"},{code:"\\Pr"},{code:"\\mathbb{E}"},{code:"\\mathrm{Var}"},{code:"\\binom{n}{k}"},{code:"\\choose"},{code:"\\Gamma"},{code:"\\Beta"},{code:"\\Delta"},{code:"\\nabla"},{code:"\\Box"}]},{title:"向量与张量",symbols:[{code:"\\vec{a}"},{code:"\\vec{AB}"},{code:"\\widehat{ac}"},{code:"\\mathbf{A}"},{code:"\\boldsymbol{A}"},{code:"\\cdot"},{code:"\\times"},{code:"\\circ"},{code:"\\otimes"},{code:"\\oplus"},{code:"\\sum_{i} a_i e_i"},{code:"\\| \\vec{a} \\|"},{code:"\\| A \\|"},{code:"\\langle a, b \\rangle"},{code:"a \\cdot b"},{code:"a \\times b"},{code:"T_{ij}"},{code:"\\delta_{ij}"},{code:"\\epsilon_{ijk}"}]},{title:"括号与分隔符",symbols:[{code:"(a + b)"},{code:"[a + b]"},{code:"\\{a + b\\}"},{code:"|a + b|"},{code:"\\|a + b\\|"},{code:"\\langle a, b \\rangle"},{code:"\\lfloor x \\rfloor"},{code:"\\lceil x \\rceil"},{code:"\\langle x \\rangle"},{code:"\\left( \\frac{a}{b} \\right)"},{code:"\\left[ \\sum_{i=1}^n a_i \\right]"},{code:"\\left\\{ \\begin{aligned} x &= 1 \\\\ y &= 2 \\end{aligned} \\right."},{code:"\\bigg( \\Big( \\big( ( ) \\big) \\Big) \\bigg)"},{code:"\\Bigg[ \\Bigg]"}]},{title:"特殊符号",symbols:[{code:"\\dots"},{code:"\\vdots"},{code:"\\ddots"},{code:"\\cdots"},{code:"\\aleph"},{code:"\\hbar"},{code:"\\imath"},{code:"\\jmath"},{code:"\\ell"},{code:"\\Re"},{code:"\\Im"},{code:"\\wp"},{code:"\\prime"},{code:"\\emptyset"},{code:"\\infty"},{code:"\\triangle"},{code:"\\square"},{code:"\\blacksquare"},{code:"\\bigstar"},{code:"\\dagger"},{code:"\\ddagger"},{code:"\\copyright"},{code:"\\angle"},{code:"\\measuredangle"},{code:"\\odot"},{code:"\\degree"},{code:"\\%"}]},{title:"数论与代数",symbols:[{code:"a \\bmod n"},{code:"\\gcd(a, b)"},{code:"\\text{lcm}(a, b)"},{code:"p \\mid n"},{code:"p \\nmid n"},{code:"\\equiv"},{code:"\\not\\equiv"},{code:"\\cong"},{code:"\\sim"},{code:"\\approx"},{code:"\\propto"},{code:"\\bot"},{code:"\\parallel"},{code:"\\nparallel"},{code:"\\subsetneq"},{code:"\\supsetneq"},{code:"\\cong"},{code:"\\simeq"},{code:"\\equiv"},{code:"\\bowtie"}]},{title:"统计与概率",symbols:[{code:"\\Pr(A)"},{code:"\\mathbb{E}[X]"},{code:"\\text{Var}(X)"},{code:"\\text{Cov}(X, Y)"},{code:"\\text{Corr}(X, Y)"},{code:"X \\sim N(\\mu, \\sigma^2)"},{code:"P(A \\mid B)"},{code:"\\binom{n}{k}"},{code:"\\mathcal{N}(\\mu, \\sigma^2)"},{code:"\\chi^2"},{code:"t_{n}"},{code:"F_{n,m}"},{code:"\\bar{x}"},{code:"s^2"},{code:"\\hat{\\theta}"},{code:"\\alpha"},{code:"\\beta"},{code:"\\Phi(x)"},{code:"\\text{pdf}(x)"}]}],S={key:0,class:"math-modal-mask"},H={class:"modal-body"},O={class:"input-preview-container"},z={class:"form-group input-section"},F={class:"form-group preview-section"},K={class:"preview-container"},G={key:0,class:"math-preview"},U=["innerHTML"],Y={key:1,class:"preview-placeholder"},Z={class:"formula-toolbar"},Q={class:"toolbar-buttons"},J=["onClick"],W=["innerHTML"],ee={class:"modal-footer"},oe=["disabled"],ce=B({__name:"MathModal",props:{visible:{type:Boolean},isDarkMode:{type:Boolean},defaultContent:{}},emits:["close","confirm","error"],setup(y,{emit:w}){const l=y;p.use(A({katexOptions:{throwOnError:!0,displayMode:!1,strict:"ignore",trust:!0}}));const d=b(l.defaultContent||""),r=b(),n=b(!1),k=L(()=>{let o;try{n.value=!1,o=j.sanitize(p.parse("$$"+d.value+"$$"))}catch(c){o="公式语法错误，请检查公式内容！",console.error(c.message),n.value=!0}return o}),m=w,q=o=>{d.value+=o,u()},u=async()=>{if(await f(),r.value){r.value.focus();const o=d.value.length;r.value.setSelectionRange(o,o)}},h=()=>{m("close")},C=()=>{if(!d.value.trim()){m("error","请输入公式内容");return}const o=`
$$
 ${d.value}
$$
`;console.log(o),m("confirm",o)};return $(()=>l.visible,o=>{o&&(d.value=l.defaultContent||"",f(()=>u()))}),T(()=>{const o=()=>{document.querySelectorAll("math").forEach(t=>{[...t.childNodes].filter(i=>i.nodeType===3).forEach(i=>t.removeChild(i))})};o(),new MutationObserver(o).observe(document.body,{childList:!0,subtree:!0})}),(o,c)=>o.visible?(s(),a("div",S,[e("div",{class:P(["math-modal",{"app-dark":o.isDarkMode}]),onClick:c[1]||(c[1]=I(()=>{},["stop"]))},[e("div",{class:"modal-header"},[c[2]||(c[2]=e("h3",null,"插入数学公式",-1)),e("button",{class:"modal-close",onClick:h},"×")]),e("div",H,[e("div",O,[e("div",z,[c[3]||(c[3]=e("label",null,"公式内容：",-1)),E(e("textarea",{"onUpdate:modelValue":c[0]||(c[0]=t=>d.value=t),class:"code-preview",rows:"6",placeholder:"请输入LaTeX格式的数学公式（例如：a^2 + b^2 = c^2）",spellcheck:"false",ref_key:"formulaInput",ref:r},null,512),[[N,d.value]])]),e("div",F,[c[4]||(c[4]=e("label",null,"实时预览：",-1)),e("div",K,[d.value?(s(),a("div",G,[e("span",{innerHTML:k.value},null,8,U)])):(s(),a("div",Y," 公式预览将显示在这里 "))])])]),e("div",Z,[(s(!0),a(v,null,x(_(R),(t,i)=>(s(),a("div",{class:"toolbar-section",key:i},[e("h4",null,V(t.title),1),e("div",Q,[(s(!0),a(v,null,x(t.symbols,(g,M)=>(s(),a("button",{onClick:de=>q(g.code),key:M},[e("span",{class:"math-symbol",innerHTML:_(p).parse("$$"+g.code+"$$")},null,8,W)],8,J))),128))])]))),128))]),e("div",ee,[e("button",{class:"cancel-btn",onClick:h},"取消"),e("button",{class:"confirm-btn",disabled:n.value,onClick:C},"确认插入",8,oe)])])],2)])):D("",!0)}}),le=X(ce,[["__scopeId","data-v-2e2297ec"]]);export{le as default};
